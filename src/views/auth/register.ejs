<div class="max-w-md mx-auto mt-10 bg-white shadow p-6 rounded-lg">
  <h2 class="text-2xl font-bold text-center mb-6">Register</h2>

  <!-- Flash message -->
  <% if (typeof message !== 'undefined' && message) { %>
  <div
    x-data="{ show: true }"
    x-show="show"
    x-init="setTimeout(() => show = false, 4000)"
    class="mb-4 px-4 py-3 rounded text-white <%= message.type === 'success' ? 'bg-green-500' : 'bg-red-500' %>"
  >
    <%= message %>
  </div>
  <% } %>

  <form action="/register" method="POST" class="space-y-4">
    <div>
      <label class="block mb-1 font-medium">Username</label>
      <input
        type="text"
        name="username"
        minlength="3"
        required
        class="w-full border px-3 py-2 rounded-md"
      />
    </div>

    <div>
      <label class="block mb-1 font-medium">Email</label>
      <input
        type="email"
        name="email"
        required
        class="w-full border px-3 py-2 rounded-md"
      />
    </div>

    <div>
      <label class="block mb-1 font-medium">Password</label>
      <input
        type="password"
        name="password"
        minlength="6"
        required
        class="w-full border px-3 py-2 rounded-md"
      />
      <span x-show="password.length < 6" class="text-gray-500 text-sm"
        >Password must be at least 6 characters</span
      >
    </div>

    <div>
      <label class="block mb-1 font-medium">Role</label>
      <select name="role" class="w-full border px-3 py-2 rounded-md">
        <option value="customer">Customer</option>
        <option value="seller">Seller</option>
      </select>
    </div>

    <button
      type="submit"
      class="w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700"
    >
      Register
    </button>
  </form>
</div>
